<!--
    blinkingtext.html
    
    Simple browsersource widget with blinking text
    
    Interval can be adjusted  by changing blinkInterval in script below
    
    Text of blink configurable in streamlabs using after context of blinktext variable in custom CSS

    for example, set the content this way:

    blinktext::after{
        content: "this is sample text!";
    }

    @dev - Ben Gray

    TODO -- move blinkInterval to variable js separately?
    TODO -- find a different way to configure fonts to allow configuration?
-->
<!DOCTYPE html>
<html>
    <head>
        <link href='https://fonts.googleapis.com/css?family=Acme' rel='stylesheet'>
        <link href="fragforce.css" rel="stylesheet" type="text/css">
    </head>
    <body>
        <script type="text/javascript" src="yaml.js"></script>
        <script type="text/javascript">
            
            //load YAML data
            var yamlConfig = YAML.load('FSSConfig.yml');

            // load variables from config data
            // Blink interval, in milliseconds
            var blinkInterval = yamlConfig.btBlinkInterval;

            (function() {
                var blinks = document.getElementsByTagName('blink');
                var visibility = 'hidden';
                window.setInterval(function() {
                    for (var i = blinks.length - 1; i >= 0; i--) {
                        blinks[i].style.visibility = visibility;
                    }
                    visibility = (visibility === 'visible') ? 'hidden' : 'visible';
                }, blinkInterval);
            })();
        </script>
        <blink>
            <div class="blinktext acmeFontLarge"> </div> <!-- text will go here -->
        </blink>
    </body>
</html>